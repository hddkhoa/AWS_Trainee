<!DOCTYPE html>
<html lang="vi">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6. K·ªπ thu·∫≠t T·ªëi ∆∞u h√≥a Truy v·∫•n - RDS Performance Insights &amp; T·ªëi ∆Øu H√≥a Truy V·∫•n</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "Work Sans", "Helvetica", "Tahoma", "Geneva", "Arial", sans-serif; font-weight: 300; line-height: 1.6; font-size: 18px; }
        
        #sidebar { position: fixed; top: 0; left: 0; width: 300px; height: 100vh; background: #282828; color: #ccc; overflow-y: auto; z-index: 1000; }
        #sidebar .searchbox { padding: 10px; background: #323232; }
        #sidebar .searchbox input { width: 100%; padding: 10px; border: none; background: #404040; color: #ccc; border-radius: 4px; }
        
        #sidebar-toggle-span { display: none; }
        
        #body { margin-left: 300px; }
        #body .padding { padding: 3rem 6rem; }
        
         
        #sidebar ul { list-style: none; padding: 0; margin: 0; }
        #sidebar ul li a { display: block; padding: 10px 20px; color: #ccc; text-decoration: none; border-left: 4px solid transparent; }
        #sidebar ul li a:hover { background: #404040; border-left-color: #599a3e; }
        #sidebar ul li.active > a { background: #404040; border-left-color: #599a3e; color: #ccc; }
        #sidebar ul ul { padding-left: 20px; }
        #sidebar ul ul li a { padding: 8px 20px; font-size: 0.9em; }
        
         
        #sidebar #header { padding: 2rem 1rem; text-align: center; }
        #sidebar #header .baseurl { color: #599a3e; font-size: 1.5rem; font-weight: bold; }
        
         
        .language-switcher { position: relative; padding: 20px; }
        .language-switcher a { color: #599a3e; text-decoration: none; margin-left: 10px; }
        
         
        h1, h2, h3, h4, h5, h6 { color: #5e5e5e; font-weight: 400; }
        h1 { font-size: 3rem; }
        
         
        .chapter h1 { color: #599a3e; border-bottom: 4px solid #F0F2F4; padding-bottom: 1rem; margin-bottom: 2rem; }
        
         
        .page-list { margin-top: 2rem; }
        .page-item { margin: 1rem 0; padding: 1rem; border: 1px solid #e0e0e0; border-radius: 4px; }
        .page-item h2 { margin: 0 0 0.5rem 0; }
        .page-item h2 a { color: #599a3e; text-decoration: none; }
        .page-item h2 a:hover { text-decoration: underline; }
        .page-item p { color: #666; margin: 0; }
        
         
        .breadcrumbs { margin-bottom: 2rem; color: #999; }
        .breadcrumbs a { color: #599a3e; text-decoration: none; }
        .breadcrumbs a:hover { text-decoration: underline; }
        
         
        @media (max-width: 768px) {
            #sidebar { transform: translateX(-300px); transition: transform 0.3s; }
            #sidebar.open { transform: translateX(0); }
            #body { margin-left: 0; }
            #body .padding { padding: 1rem 2rem; }
            #sidebar-toggle-span { display: block; position: fixed; top: 10px; left: 10px; z-index: 1001; }
            #sidebar-toggle { background: #599a3e; color: white; padding: 10px; border: none; border-radius: 4px; }
        }
    </style>
</head>
<body>
    <nav id="sidebar">
        <div id="header">
            <a id="logo" href='/'>
  <div style="text-align: center; padding: 20px;">
    <h2 style="color: var(--MENU-SEARCH-BOX-color, #33a1ff); font-size: 2rem; font-weight: bold; margin: 0;">
      LEARN
    </h2>
    <p style="color: var(--MENU-SEARCH-BOX-ICONS-color, #a1d2fd); font-size: 0.9rem; margin: 5px 0 0 0;">
      RDS Performance Insights
    </p>
  </div>
</a>

        </div>
        
        <div class="searchbox">
            <input type="search" placeholder="Search..." id="search-input">
        </div>
        
        <ul class="topics">
            <li><a href="http://localhost:1313/"><i class="fas fa-home"></i> Home</a></li>
            
            <li class="">
                <a href="/vi/introduction/"><i class="fas fa-book"></i> 1. Gi·ªõi Thi·ªáu</a>
                
            </li>
            
            <li class="">
                <a href="/vi/preparation/"><i class="fas fa-book"></i> 2. Chu·∫©n B·ªã</a>
                
            </li>
            
            <li class="">
                <a href="/vi/performance-baseline/"><i class="fas fa-book"></i> 3. Thi·∫øt l·∫≠p ƒê∆∞·ªùng c∆° s·ªü Hi·ªáu su·∫•t</a>
                
            </li>
            
            <li class="">
                <a href="/vi/performance-insights/"><i class="fas fa-book"></i> Performance Insights</a>
                
            </li>
            
            <li class="">
                <a href="/vi/monitoring-dashboard/"><i class="fas fa-book"></i> 4. B·∫£ng ƒëi·ªÅu khi·ªÉn Gi√°m s√°t</a>
                
            </li>
            
            <li class="">
                <a href="/vi/alerting-system/"><i class="fas fa-book"></i> 5. H·ªá th·ªëng C·∫£nh b√°o</a>
                
            </li>
            
            <li class="active">
                <a href="/vi/query-optimization/"><i class="fas fa-book"></i> 6. K·ªπ thu·∫≠t T·ªëi ∆∞u h√≥a Truy v·∫•n</a>
                
                <ul>
                    
                    <li><a href="/vi/query-optimization/overview/">T·ªïng quan</a></li>
                    
                </ul>
                
            </li>
            
            <li class="">
                <a href="/vi/automated-tuning/"><i class="fas fa-book"></i> 7. ƒê·ªÅ xu·∫•t ƒêi·ªÅu ch·ªânh T·ª± ƒë·ªông</a>
                
            </li>
            
            <li class="">
                <a href="/vi/capacity-planning/"><i class="fas fa-book"></i> 8. L·∫≠p k·∫ø ho·∫°ch NƒÉng l·ª±c</a>
                
            </li>
            
            <li class="">
                <a href="/vi/monitoring/"><i class="fas fa-book"></i> 9. Gi√°m s√°t &amp; C·∫£nh b√°o</a>
                
            </li>
            
            <li class="">
                <a href="/vi/best-practices/"><i class="fas fa-book"></i> 10. D·ªçn d·∫πp t√†i nguy√™n</a>
                
            </li>
            
        </ul>
        
        <div class="language-switcher">
            
            
            <a href="/vi/en"><i class="fas fa-language"></i> English</a>
            
            
            
            
        </div>
    </nav>

    <span id="sidebar-toggle-span">
        <a href="#" id="sidebar-toggle"><i class="fas fa-bars"></i></a>
    </span>

    <section id="body">
        <div id="overlay"></div>
        <div class="padding">
            <div id="body-inner">
                <div class="breadcrumbs">
                    <a href="http://localhost:1313/">Home</a>
                    
                    <span> > </span><a href="/vi/">RDS Performance Insights &amp; Query Optimization</a>
                    
                    <span> > </span>6. K·ªπ thu·∫≠t T·ªëi ∆∞u h√≥a Truy v·∫•n
                </div>
                
                <div class="chapter">
                    <h1>6. K·ªπ thu·∫≠t T·ªëi ∆∞u h√≥a Truy v·∫•n</h1>
                    <h3 id="ch∆∞∆°ng-6">Ch∆∞∆°ng 6</h3>
<h1 id="k·ªπ-thu·∫≠t-t·ªëi-∆∞u-h√≥a-truy-v·∫•n">K·ªπ thu·∫≠t T·ªëi ∆∞u h√≥a Truy v·∫•n</h1>
<p>C√°c ph∆∞∆°ng ph√°p ƒë·ªÉ c·∫£i thi·ªán hi·ªáu su·∫•t c·ªßa c√°c truy v·∫•n SQL.</p>
<h2 id="m·ª•c-ti√™u">M·ª•c ti√™u</h2>
<p>Gi·∫£m th·ªùi gian th·ª±c thi truy v·∫•n, gi·∫£m t√†i nguy√™n ti√™u th·ª•.</p>
<h2 id="c√°c-ngu·ªìn-ph√°t-hi·ªán-v·∫•n-ƒë·ªÅ">C√°c ngu·ªìn ph√°t hi·ªán v·∫•n ƒë·ªÅ</h2>
<h3 id="rds-performance-insights">RDS Performance Insights</h3>
<p>X√°c ƒë·ªãnh c√°c truy v·∫•n SQL ti√™u t·ªën nhi·ªÅu t√†i nguy√™n nh·∫•t (Top SQL).</p>
<h3 id="slow-query-logs">Slow Query Logs</h3>
<p>C√°c truy v·∫•n v∆∞·ª£t qu√° ng∆∞·ª°ng th·ªùi gian ƒë∆∞·ª£c ghi l·∫°i.</p>
<h3 id="database-activity-streams-das">Database Activity Streams (DAS)</h3>
<p>(V·ªõi Aurora v√† RDS cho PostgreSQL) Cung c·∫•p lu·ªìng ho·∫°t ƒë·ªông DB chi ti·∫øt ƒë·ªÉ ph√¢n t√≠ch s√¢u h∆°n.</p>
<h2 id="c√°c-k·ªπ-thu·∫≠t-t·ªëi-∆∞u-h√≥a">C√°c k·ªπ thu·∫≠t t·ªëi ∆∞u h√≥a</h2>
<h3 id="1-t·ªëi-∆∞u-h√≥a-index">1. T·ªëi ∆∞u h√≥a Index</h3>
<h4 id="t·∫°o-index-ph√π-h·ª£p">T·∫°o Index ph√π h·ª£p</h4>
<ul>
<li>C√°c c·ªôt trong m·ªánh ƒë·ªÅ WHERE</li>
<li>C√°c c·ªôt trong JOIN</li>
<li>C√°c c·ªôt trong ORDER BY, GROUP BY</li>
</ul>
<h4 id="qu·∫£n-l√Ω-index">Qu·∫£n l√Ω Index</h4>
<ul>
<li>X√≥a c√°c index kh√¥ng s·ª≠ d·ª•ng</li>
<li>S·ª≠ d·ª•ng Covering Index ƒë·ªÉ t·ªëi thi·ªÉu h√≥a vi·ªác truy c·∫≠p b·∫£ng</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#75715e">-- V√≠ d·ª• t·∫°o covering index
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">INDEX</span> idx_order_covering 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">ON</span> orders (customer_id, order_date) 
</span></span><span style="display:flex;"><span>INCLUDE (total_amount, status);
</span></span></code></pre></div><h3 id="2-vi·∫øt-l·∫°i-truy-v·∫•n-query-rewriting">2. Vi·∫øt l·∫°i Truy v·∫•n (Query Rewriting)</h3>
<h4 id="best-practices">Best Practices</h4>
<ul>
<li>Tr√°nh <code>SELECT *</code></li>
<li>T·ªëi ∆∞u h√≥a m·ªánh ƒë·ªÅ JOIN (ch·ªçn ƒë√∫ng lo·∫°i JOIN, th·ª© t·ª± JOIN)</li>
<li>Tr√°nh c√°c h√†m tr√™n c·ªôt c√≥ index trong m·ªánh ƒë·ªÅ WHERE</li>
<li>S·ª≠ d·ª•ng <code>UNION ALL</code> thay v√¨ <code>UNION</code> n·∫øu kh√¥ng c·∫ßn lo·∫°i b·ªè tr√πng l·∫∑p</li>
<li>T·ªëi ∆∞u h√≥a GROUP BY v√† ORDER BY</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#75715e">-- Thay v√¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> orders <span style="color:#66d9ef">WHERE</span> <span style="color:#66d9ef">YEAR</span>(order_date) <span style="color:#f92672">=</span> <span style="color:#ae81ff">2023</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- S·ª≠ d·ª•ng
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">SELECT</span> order_id, customer_id, total_amount 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> orders 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> order_date <span style="color:#f92672">&gt;=</span> <span style="color:#e6db74">&#39;2023-01-01&#39;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">AND</span> order_date <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#39;2024-01-01&#39;</span>;
</span></span></code></pre></div><h3 id="3-t·ªëi-∆∞u-h√≥a-schema">3. T·ªëi ∆∞u h√≥a Schema</h3>
<h4 id="l·ª±a-ch·ªçn-ki·ªÉu-d·ªØ-li·ªáu">L·ª±a ch·ªçn ki·ªÉu d·ªØ li·ªáu</h4>
<ul>
<li>Ch·ªçn ki·ªÉu d·ªØ li·ªáu ph√π h·ª£p (v√≠ d·ª•: d√πng INT thay v√¨ BIGINT n·∫øu ƒë·ªß)</li>
<li>Chu·∫©n h√≥a/Phi chu·∫©n h√≥a ph√π h·ª£p v·ªõi workload</li>
</ul>
<h4 id="ph√¢n-v√πng-b·∫£ng-table-partitioning">Ph√¢n v√πng b·∫£ng (Table Partitioning)</h4>
<p>Cho c√°c b·∫£ng l·ªõn ƒë·ªÉ c·∫£i thi·ªán hi·ªáu su·∫•t truy v·∫•n.</p>
<h3 id="4-s·ª≠-d·ª•ng-caching">4. S·ª≠ d·ª•ng Caching</h3>
<h4 id="application-level-caching">Application-level Caching</h4>
<p>Cache k·∫øt qu·∫£ truy v·∫•n ·ªü t·∫ßng ·ª©ng d·ª•ng:</p>
<ul>
<li>Redis</li>
<li>Memcached</li>
</ul>
<h4 id="database-level-caching">Database-level Caching</h4>
<p>T·ª± ƒë·ªông b·ªüi RDS, nh∆∞ng c·∫ßn t·ªëi ∆∞u h√≥a truy v·∫•n ƒë·ªÉ t·∫≠n d·ª•ng.</p>

                </div>
                
                
                <div class="page-list">
                    
                    <div class="page-item">
                        <h2><a href="/vi/query-optimization/overview/">T·ªïng quan</a></h2>
                        
                        <p>T·ªïng quan t·ªëi ∆∞u h√≥a truy v·∫•n üéØ T·ªëi ∆∞u h√≥a truy v·∫•n l√† g√¨? T·ªëi ∆∞u h√≥a truy v·∫•n l√† qu√° tr√¨nh c·∫£i thi·ªán hi·ªáu su·∫•t truy v·∫•n c∆° s·ªü d·ªØ li·ªáu th√¥ng qua c√°c k·ªπ thu·∫≠t kh√°c nhau bao g·ªìm t·ªëi ∆∞u h√≥a ch·ªâ m·ª•c, vi·∫øt l·∫°i truy v·∫•n v√† ph√¢n t√≠ch k·∫ø ho·∫°ch th·ª±c thi.
Th√¥ng tin: T·ªëi ∆∞u h√≥a truy v·∫•n hi·ªáu qu·∫£ c√≥ th·ªÉ c·∫£i thi·ªán hi·ªáu su·∫•t 70% ho·∫∑c h∆°n trong khi gi·∫£m ti√™u th·ª• t√†i nguy√™n.</p>
                        
                    </div>
                    
                </div>
                
            </div>
        </div>
    </section>

    <script>
        
        document.getElementById('sidebar-toggle').addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('sidebar').classList.toggle('open');
        });
    </script>
</body>
</html>
